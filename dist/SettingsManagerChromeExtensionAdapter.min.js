!function(e,t){if("function"==typeof define&&define.amd)define(["exports","@hal313/settings-manager"],t);else if("undefined"!=typeof exports)t(exports,require("@hal313/settings-manager"));else{var n={};t(n,e.settingsManager),e.SettingsManagerChromeExtensionAdapter=n}}(this,function(e,o){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(){return window.chrome&&window.chrome.runtime&&window.chrome.runtime.lastError?window.chrome.runtime.lastError:void 0}Object.defineProperty(e,"__esModule",{value:!0}),e.SettingsManagerChromeExtensionAdapter=void 0;var t=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.path=t||"sm_ce",this.storage=e?chrome.storage.sync:chrome.storage.local}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(n,[{key:"load",value:function(t,n){this.storage.get([this.path],function(e){i()?(0,o.executeAsync)(n):(0,o.executeAsync)(t,[e])})}},{key:"save",value:function(e,t,n){var r={};r[this.path]=e,this.storage.set(r,function(){i()?(0,o.executeAsync)(n):(0,o.executeAsync)(t)})}},{key:"clear",value:function(e,t){this.save(null,e,t)}}]),n}();e.SettingsManagerChromeExtensionAdapter=t});